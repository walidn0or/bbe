(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>s});var r=a(5155);a(2115);let s=e=>{let{children:t,variant:a,size:s,className:l="",...i}=e;return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded px-4 py-2 font-medium transition-colors focus:outline-none"," ").concat("outline"===a?"border border-gray-300 bg-white text-gray-800 hover:bg-gray-100":"ghost"===a?"bg-transparent hover:bg-gray-100":"bg-blue-600 text-white hover:bg-blue-700"," ").concat("lg"===s?"text-base py-3 px-6":"sm"===s?"text-xs py-1 px-2":"text-sm"," ").concat(l),...i,children:t})}},652:(e,t,a)=>{Promise.resolve().then(a.bind(a,8474))},2895:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(2115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{color:i="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:o,children:c,...m}=a;return(0,r.createElement)("svg",{ref:l,...s,width:n,height:n,stroke:i,strokeWidth:o?24*Number(d)/Number(n):d,className:"lucide lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),...m},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...(Array.isArray(c)?c:[c])||[]])});return a.displayName="".concat(e),a}},2915:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4416:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2895).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8474:(e,t,a)=>{"use strict";a.d(t,{MediaUpload:()=>u});var r=a(5155),s=a(2115),l=a(2895);let i=(0,l.A)("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),n=(0,l.A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),d=(0,l.A)("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);var o=a(2915);let c=(0,l.A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),m=(0,l.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var h=a(4416),p=a(285);function u(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),g=(0,s.useRef)(null),v=["image/jpeg","image/jpg","image/png","image/gif","image/webp","video/mp4","video/avi","video/mov","video/wmv","video/flv","video/webm"],y=async e=>{let a=Math.random().toString(36).substr(2,9);if(v.includes(e.type)?e.size>0x3200000?"File size too large. Maximum size is 50MB.":null:"File type not supported. Please upload images (JPEG, PNG, GIF, WebP) or videos (MP4, AVI, MOV, WMV, FLV, WebM).")return void t(t=>[...t,{id:a,name:e.name,size:e.size,type:e.type,status:"error",progress:0}]);let r=await new Promise(t=>{if(e.type.startsWith("image/")){let a=new FileReader;a.onload=e=>{var a;return t(null==(a=e.target)?void 0:a.result)},a.readAsDataURL(e)}else if(e.type.startsWith("video/")){let a=document.createElement("video");a.preload="metadata",a.onloadedmetadata=()=>{let a=document.createElement("canvas");a.width=200,a.height=150;let r=a.getContext("2d");r&&(r.fillStyle="#f0f0f0",r.fillRect(0,0,200,150),r.fillStyle="#666",r.font="16px Arial",r.textAlign="center",r.fillText("Video",100,75),r.fillText(e.name,100,95)),t(a.toDataURL())},a.src=URL.createObjectURL(e)}else t("")});t(t=>[...t,{id:a,name:e.name,size:e.size,type:e.type,preview:r,status:"uploading",progress:0}]);let s=setInterval(()=>{t(e=>e.map(e=>e.id===a?{...e,progress:Math.min(e.progress+20*Math.random(),100)}:e))},200);try{let r=new FormData;r.append("files",e);let l=await fetch("/api/upload",{method:"POST",body:r});if(clearInterval(s),l.ok){let e=await l.json();t(t=>t.map(t=>{var r;return t.id===a?{...t,status:"success",progress:100,url:(null==(r=e.files[0])?void 0:r.url)||t.url}:t}))}else{let e=await l.json();throw Error(e.error||"Upload failed")}}catch(e){clearInterval(s),t(e=>e.map(e=>e.id===a?{...e,status:"error",progress:0}:e)),console.error("Upload error:",e)}},f=(0,s.useCallback)(e=>{x(!0),Array.from(e).forEach(y),x(!1)},[]),b=(0,s.useCallback)(e=>{e.preventDefault(),l(!1),f(e.dataTransfer.files)},[f]),w=(0,s.useCallback)(e=>{e.preventDefault(),l(!0)},[]),j=(0,s.useCallback)(e=>{e.preventDefault(),l(!1)},[]),N=(0,s.useCallback)(e=>{e.target.files&&f(e.target.files)},[f]);return(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Media Upload Center"}),(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-all duration-300 cursor-pointer ".concat(a?"border-red-500 bg-red-50 scale-105":"border-gray-300 hover:border-red-400 hover:bg-gray-50"),onDrop:b,onDragOver:w,onDragLeave:j,onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},children:[(0,r.jsx)(m,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Drop your files here or click to browse"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Supports images (JPEG, PNG, GIF, WebP) and videos (MP4, AVI, MOV, WMV, FLV, WebM)"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Maximum file size: 50MB"}),(0,r.jsx)("input",{ref:g,type:"file",multiple:!0,accept:"image/*,video/*",onChange:N,className:"hidden"})]}),e.length>0&&(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Uploaded Files (",e.length,")"]}),(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>{var a;return(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[e.preview?(0,r.jsx)("img",{src:e.preview,alt:e.name,className:"w-12 h-12 object-cover rounded"}):(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:(a=e.type).startsWith("image/")?(0,r.jsx)(i,{className:"h-5 w-5"}):a.startsWith("video/")?(0,r.jsx)(n,{className:"h-5 w-5"}):(0,r.jsx)(d,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(e=>{switch(e){case"success":return(0,r.jsx)(o.A,{className:"h-4 w-4 text-green-500"});case"error":return(0,r.jsx)(c,{className:"h-4 w-4 text-red-500"});default:return null}})(e.status)]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsx)("span",{children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(e.size)}),(0,r.jsx)("span",{children:e.type})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["uploading"===e.status&&(0,r.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>{var a;return a=e.id,void t(e=>e.filter(e=>e.id!==a))},className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})]})]})},e.id)})})]}),u&&(0,r.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,r.jsx)("span",{className:"text-blue-700",children:"Uploading files..."})]})})]})})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=652)),_N_E=e.O()}]);